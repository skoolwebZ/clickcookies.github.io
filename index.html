<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f5f5dc;
    margin: 0;
    padding: 20px;
  }
  #cookie {
    width: 200px;
    cursor: pointer;
    margin: 20px;
    transition: transform 0.1s;
  }
  #cookie:active {
    transform: scale(0.95);
  }
  .button {
    padding: 10px 20px;
    margin: 5px;
    font-size: 16px;
    cursor: pointer;
  }
  #upgrades {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin: 20px 0;
  }
  .upgrade {
    border: 1px solid #aaa;
    border-radius: 10px;
    padding: 10px;
    margin: 5px;
    width: 150px;
    background-color: #fff8dc;
  }
  #goldenCookie {
    width: 100px;
    position: absolute;
    cursor: pointer;
    display: none;
  }
  #achievements {
    margin-top: 20px;
  }
</style>
</head>
<body>

<h1>Cookie Clicker Clone</h1>
<h2>Cookies: <span id="cookies">0</span> | CPS: <span id="cps">0</span></h2>
<img src="https://upload.wikimedia.org/wikipedia/commons/7/70/Chocolate_Chip_Cookie.png" id="cookie" alt="Cookie">

<div id="upgrades"></div>

<img src="https://upload.wikimedia.org/wikipedia/commons/1/19/Golden_cookie.png" id="goldenCookie" alt="Golden Cookie">

<div id="achievements">
  <h3>Achievements</h3>
  <ul id="achievementList"></ul>
</div>

<script>
  // Game state
  let cookies = 0;
  let totalCookies = 0;
  let totalClicks = 0;
  let cps = 0;
  let upgrades = {
    cursor: { cost: 15, count: 0, cps: 0.1 },
    grandma: { cost: 100, count: 0, cps: 1 },
    farm: { cost: 500, count: 0, cps: 5 },
    mine: { cost: 2000, count: 0, cps: 10 },
    factory: { cost: 10000, count: 0, cps: 40 }
  };
  let achievements = [
    { name: "First Click", condition: () => totalClicks >= 1, earned: false },
    { name: "Hundred Cookies", condition: () => totalCookies >= 100, earned: false },
    { name: "Cookie Hoarder", condition: () => totalCookies >= 1000, earned: false }
  ];

  // DOM elements
  const cookiesDisplay = document.getElementById('cookies');
  const cpsDisplay = document.getElementById('cps');
  const cookieBtn = document.getElementById('cookie');
  const upgradesDiv = document.getElementById('upgrades');
  const goldenCookie = document.getElementById('goldenCookie');
  const achievementList = document.getElementById('achievementList');

  // Initialize upgrades UI
  function initUpgrades() {
    upgradesDiv.innerHTML = '';
    for (let key in upgrades) {
      const up = document.createElement('div');
      up.classList.add('upgrade');
      up.id = key;
      up.innerHTML = `
        <strong>${capitalize(key)}</strong><br>
        Count: <span id="${key}Count">0</span><br>
        Cost: <span id="${key}Cost">${upgrades[key].cost}</span><br>
        <button onclick="buyUpgrade('${key}')">Buy</button>
      `;
      upgradesDiv.appendChild(up);
    }
  }

  function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }

  function updateDisplay() {
    cookiesDisplay.textContent = Math.floor(cookies);
    cpsDisplay.textContent = cps.toFixed(1);
    for (let key in upgrades) {
      document.getElementById(key + 'Count').textContent = upgrades[key].count;
      document.getElementById(key + 'Cost').textContent = upgrades[key].cost;
    }
    updateAchievements();
  }

  function updateCPS() {
    cps = 0;
    for (let key in upgrades) {
      cps += upgrades[key].count * upgrades[key].cps;
    }
  }

  function buyUpgrade(name) {
    if(cookies >= upgrades[name].cost) {
      cookies -= upgrades[name].cost;
      upgrades[name].count += 1;
      upgrades[name].cost = Math.floor(upgrades[name].cost * 1.15);
      updateCPS();
      updateDisplay();
      saveGame();
    }
  }

  cookieBtn.addEventListener('click', () => {
    cookies += 1;
    totalCookies += 1;
    totalClicks += 1;
    updateDisplay();
  });

  // Golden cookie logic
  function spawnGoldenCookie() {
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 100);
    goldenCookie.style.left = x + 'px';
    goldenCookie.style.top = y + 'px';
    goldenCookie.style.display = 'block';
    setTimeout(() => goldenCookie.style.display = 'none', 10000);
  }

  goldenCookie.addEventListener('click', () => {
    const bonus = Math.floor(cookies * 0.5 + 50);
    cookies += bonus;
    totalCookies += bonus;
    goldenCookie.style.display = 'none';
    updateDisplay();
  });

  setInterval(() => {
    if(Math.random() < 0.01) spawnGoldenCookie();
  }, 1000);

  // Auto CPS
  setInterval(() => {
    cookies += cps / 10;
    totalCookies += cps / 10;
    updateDisplay();
    saveGame();
  }, 100);

  // Achievements
  function updateAchievements() {
    achievementList.innerHTML = '';
    achievements.forEach(a => {
      if(!a.earned && a.condition()) a.earned = true;
      if(a.earned) {
        const li = document.createElement('li');
        li.textContent = a.name;
        achievementList.appendChild(li);
      }
    });
  }

  // Save/load
  function saveGame() {
    localStorage.setItem('cookieClickerFull', JSON.stringify({ cookies, totalCookies, totalClicks, upgrades, achievements }));
  }

  function loadGame() {
    const saved = JSON.parse(localStorage.getItem('cookieClickerFull'));
    if(saved) {
      cookies = saved.cookies;
      totalCookies = saved.totalCookies;
      totalClicks = saved.totalClicks;
      upgrades = saved.upgrades;
      achievements = saved.achievements;
      updateCPS();
    }
  }

  loadGame();
  initUpgrades();
  updateDisplay();
  setInterval(saveGame, 5000);
</script>

</body>
</html>
